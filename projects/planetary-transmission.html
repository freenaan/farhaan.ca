<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>3-Speed Planetary Transmission — Farhaan</title>
  <link rel="stylesheet" href="../styles.css">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <main>
    <section class="project-hero" style="background-image: url('https://images.unsplash.com/photo-1518779578993-ec3579fee39f?auto=format&fit=crop&w=1650&q=80')">
      <div class="site-inner hero-header">
        <div class="brand"><a href="../index.html">Farhaan.ca</a></div>
        <nav class="nav">
          <a class="btn" href="../contact.html">Contact</a>
        </nav>
      </div>
      <h1 class="anim-1">3-Speed Planetary Transmission</h1>
    </section>

    <section class="project-content">
      <div class="project-inner">
        <div class="feature-list">
          <div class="feature-card">
            <div class="feature-text">
              <h3>Overview</h3>
              <p>With normal gears, cars only get two choices; fast acceleration, or high top speed. Transmissions fix this by offering multiple gear ratios to choose from, but they’re usually made of metal and thus, outside the scope of most DIY’ers.</p>
              <p>With my transmission I am to change this. This is a 3D printed, clutchless, high performance planetary transmission. It can be made economically with just a 3d printer, some heated inserts, screws, bearings, and metal dowel pins. And it’s quite strong too.</p>
            </div>
            <div class="feature-media"><img src="../planetary1.png" alt="Planetary transmission"></div>
          </div>

          <div class="feature-card reverse">
            <div class="feature-text">
              <h3>Design Notes</h3>
              <p>The layout balances manufacturability and packaging. Bearings, carriers, and ring gear constraints were optimized for strength while keeping the assembly compact.</p>
            </div>
            <div class="feature-media"><span>Image</span></div>
          </div>

          <div class="feature-card">
            <div class="feature-text">
              <h3>Custom shifter</h3>
              <p>It’s no secret that 3D printed plastics soften with little heat, that’s why they’re 3D printable in the first place. This is bad since traditional planetary transmissions use friction clutches as couplers, which encounter frequent “micro-slips” from torque spikes that arise from torque spikes.</p>
              </br>
              <p>This issue is combatted by a custom “spline-clutch” mechanism that holds ring gears in place with splines attached to a sliding outer shell. The coupler between the blue components and driving shaft required for direct drive has also been replaced by a rotationally independent spline coupler that’s axially connected to the sliding shell with a ball bearing.</p>
              </br>
              <p>E<sub>Heat</sub> = F<sub>Friction</sub> * &Delta;d, so by reducing &Delta;d through the elimination of micro slips, heat generation is greatly reduced. This theoretically reduces total deformation by 90+%, greatly extending the life of the transmission and enabling its usage with stronger engines.</p>
            </div>
            <div class="feature-media"><span>Image</span></div>
          </div>
        </div>

        <div class="project-footer">© Farhaan Khan 2026</div>
      </div>
    </section>
  </main>

  <script>
  (function(){
    // background zoom/fade behaviour adapted from provided snippet (vanilla JS)
    var hero = document.querySelector('.project-hero');
    var title = document.querySelector('.project-hero h1');
    if(!hero) return;

    // Set starting background-size (must match CSS percent)
    var startBg = window.getComputedStyle(hero).backgroundSize || '250%';
    var zoomPct = 250;
    try{
      if(startBg.indexOf('%')>-1) zoomPct = parseFloat(startBg);
    }catch(e){}

    var baseSize = (zoomPct/100) * hero.offsetWidth;
    var doc = document.documentElement;

    function onScroll(){
      var fromTop = Math.max(0, window.scrollY || doc.scrollTop);

      // background size reduces as you scroll, similar to original formula
      var newSize = baseSize - (fromTop/3);
      if(newSize < hero.offsetWidth) newSize = hero.offsetWidth;
      hero.style.backgroundSize = newSize + 'px';

      // blur proportionally and fade out
      var blur = Math.min(12, fromTop/100);
      hero.style.filter = 'blur(' + blur + 'px)';

      // opacity based on scroll relative to document height (keeps effect subtle)
      var opacity = 1 - ((fromTop / (doc.scrollHeight||document.body.scrollHeight)) * 1.3);
      opacity = Math.max(0, Math.min(1, opacity));
      hero.style.opacity = opacity;

      // title fades and slightly scales toward background
      if(title){
        var maxFade = 300;
        var t = Math.max(0, 1 - fromTop / maxFade);
        title.style.opacity = t;
        var scale = 1 - (1 - t) * 0.04;
        title.style.transform = 'scale(' + scale + ')';
      }
    }

    // Non-Chrome/Safari: add opaque overlay and fade it in as fallback
    var isChrome = /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor);
    var isSafari = /Safari/.test(navigator.userAgent) && /Apple Computer/.test(navigator.vendor);
    if(!(isChrome || isSafari)){
      var o = document.createElement('div');
      o.className = 'opaque';
      hero.appendChild(o);
      window.addEventListener('scroll', function(){
        var op = Math.min(1, (window.scrollY||0)/5000);
        o.style.opacity = op;
      }, { passive: true });
    }

    window.addEventListener('scroll', onScroll, { passive: true });
    onScroll();
  })();
  </script>

  <script src="../script.js"></script>
</body>
</html>
